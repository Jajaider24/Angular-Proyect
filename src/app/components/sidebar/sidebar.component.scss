/* Sidebar tweaks for title alignment when icons are absent */
.nav-link.has-icon i {
  margin-right: 10px;
  font-size: 1.05rem;
}
.nav-link .nav-title {
  vertical-align: middle;
}

/* When icon absent ensure text has left padding for visual balance on desktop */
.navbar-nav .nav-item .nav-link:not(.has-icon) {
  padding-left: 1rem;
}

/* New styles for improved title design */
.menu-text {
  display: inline-block;
  vertical-align: middle;
}
.menu-text .nav-title {
  font-weight: 700;
  font-size: 0.98rem;
  line-height: 1.05;
}
.menu-text .nav-subtitle {
  font-size: 0.74rem;
  color: rgba(0, 0, 0, 0.45);
  margin-top: 2px;
  display: block;
}

/* Slight hover emphasis */
.navbar-nav .nav-item .nav-link:hover .nav-title {
  text-decoration: underline;
}

/* Accent color tokens for sidebar (map to Argon/Bootstrap colors) */
:host {
  /* Colores primarios */
  --accent-primary: #5e72e4;
  --accent-info: #11cdef;
  --accent-success: #2dce89;
  --accent-warning: #fb6340;
  --accent-danger: #f5365c;
  --accent-muted: #8898aa;
  
  /* Colores adicionales para entidades secundarias */
  --accent-purple: #8965e0;    /* Direcciones */
  --accent-orange: #ff8d00;    /* Motocicletas */
  --accent-cyan: #2bffc6;      /* Conductores */
  --accent-indigo: #5603ad;    /* Turnos */
  --accent-red: #f5365c;       /* Incidencias (mismo que danger) */
  --accent-pink: #f3a4b5;      /* Fotos */
}

/* Sidebar background and subtle border to visually separate it from content */
#sidenav-main {
  background: linear-gradient(180deg, #f7fbff 0%, #f1f5f9 100%);
  border-right: 1px solid rgba(22, 27, 34, 0.04);
}

/* small colored square indicator before each item */
.navbar-nav .nav-item .nav-link .menu-dot {
  width: 10px;
  height: 10px;
  display: inline-block;
  border-radius: 50%; /* indicador redondo */
  margin-right: 0.75rem;
  vertical-align: middle;
  flex: 0 0 auto;
  opacity: 0.95;
  transition: transform 0.18s ease, box-shadow 0.22s ease,
    background-color 0.18s ease;
}

/* map data-color to actual dot color and active left border */
.nav-link[data-color="primary"] .menu-dot {
  background: var(--accent-primary);
}
.nav-link.active[data-color="primary"] {
  border-left: 4px solid var(--accent-primary);
}
.nav-link[data-color="primary"]:hover .menu-dot {
  box-shadow: 0 8px 20px rgba(94, 114, 228, 0.18);
  transform: scale(1.12);
}
.nav-link[data-color="info"]:hover .menu-dot {
  box-shadow: 0 8px 20px rgba(17, 205, 239, 0.18);
  transform: scale(1.12);
}
.nav-link[data-color="success"]:hover .menu-dot {
  box-shadow: 0 8px 20px rgba(45, 206, 137, 0.18);
  transform: scale(1.12);
}
.nav-link[data-color="warning"]:hover .menu-dot {
  box-shadow: 0 8px 20px rgba(251, 99, 64, 0.18);
  transform: scale(1.12);
}
.nav-link[data-color="danger"]:hover .menu-dot {
  box-shadow: 0 8px 20px rgba(245, 54, 92, 0.18);
  transform: scale(1.12);
}
.nav-link[data-color="muted"]:hover .menu-dot {
  box-shadow: 0 8px 20px rgba(136, 152, 170, 0.14);
  transform: scale(1.08);
}

.nav-link[data-color="info"] .menu-dot {
  background: var(--accent-info);
}
.nav-link.active[data-color="info"] {
  border-left: 4px solid var(--accent-info);
}

.nav-link[data-color="success"] .menu-dot {
  background: var(--accent-success);
}
.nav-link.active[data-color="success"] {
  border-left: 4px solid var(--accent-success);
}

.nav-link[data-color="warning"] .menu-dot {
  background: var(--accent-warning);
}
.nav-link.active[data-color="warning"] {
  border-left: 4px solid var(--accent-warning);
}

.nav-link[data-color="danger"] .menu-dot {
  background: var(--accent-danger);
}
.nav-link.active[data-color="danger"] {
  border-left: 4px solid var(--accent-danger);
}

.nav-link[data-color="muted"] .menu-dot {
  background: var(--accent-muted);
}
.nav-link.active[data-color="muted"] {
  border-left: 4px solid var(--accent-muted);
}

/* ============================================
   ESTILOS PARA COLORES ADICIONALES
   (purple, orange, cyan, indigo, red, pink)
   ============================================ */

/* PURPLE - Direcciones */
.nav-link[data-color="purple"] .menu-dot {
  background: var(--accent-purple);
}
.nav-link.active[data-color="purple"] {
  border-left: 4px solid var(--accent-purple);
}
.nav-link[data-color="purple"]:hover .menu-dot {
  box-shadow: 0 8px 20px rgba(137, 101, 224, 0.22);
  transform: scale(1.12);
}

/* ORANGE - Motocicletas */
.nav-link[data-color="orange"] .menu-dot {
  background: var(--accent-orange);
}
.nav-link.active[data-color="orange"] {
  border-left: 4px solid var(--accent-orange);
}
.nav-link[data-color="orange"]:hover .menu-dot {
  box-shadow: 0 8px 20px rgba(255, 141, 0, 0.22);
  transform: scale(1.12);
}

/* CYAN - Conductores */
.nav-link[data-color="cyan"] .menu-dot {
  background: var(--accent-cyan);
}
.nav-link.active[data-color="cyan"] {
  border-left: 4px solid var(--accent-cyan);
}
.nav-link[data-color="cyan"]:hover .menu-dot {
  box-shadow: 0 8px 20px rgba(43, 255, 198, 0.22);
  transform: scale(1.12);
}

/* INDIGO - Turnos */
.nav-link[data-color="indigo"] .menu-dot {
  background: var(--accent-indigo);
}
.nav-link.active[data-color="indigo"] {
  border-left: 4px solid var(--accent-indigo);
}
.nav-link[data-color="indigo"]:hover .menu-dot {
  box-shadow: 0 8px 20px rgba(86, 3, 173, 0.22);
  transform: scale(1.12);
}

/* RED - Incidencias */
.nav-link[data-color="red"] .menu-dot {
  background: var(--accent-red);
}
.nav-link.active[data-color="red"] {
  border-left: 4px solid var(--accent-red);
}
.nav-link[data-color="red"]:hover .menu-dot {
  box-shadow: 0 8px 20px rgba(245, 54, 92, 0.22);
  transform: scale(1.12);
}

/* PINK - Fotos */
.nav-link[data-color="pink"] .menu-dot {
  background: var(--accent-pink);
}
.nav-link.active[data-color="pink"] {
  border-left: 4px solid var(--accent-pink);
}
.nav-link[data-color="pink"]:hover .menu-dot {
  box-shadow: 0 8px 20px rgba(243, 164, 181, 0.22);
  transform: scale(1.12);
}

/* styles for the reports quick link (now a normal nav-item pinned to bottom) */
.sidebar-reports .nav-link {
  background: transparent; /* match other nav items */
  border-radius: 0;
  padding: 0.45rem 0.75rem;
}
.sidebar-reports .nav-title {
  font-weight: 700;
}
.sidebar-reports .nav-subtitle {
  font-size: 0.72rem;
  color: rgba(0, 0, 0, 0.45);
}

/* make collapse area a column so we can pin the reports list to the bottom */
#sidenav-main .collapse {
  display: flex;
  flex-direction: column;
  padding-bottom: 0;
}

/* the reports list sits as a normal list but pushed to the bottom */
.sidebar-reports-list {
  margin: 0;
  padding: 0 0.5rem 1rem 0.5rem;
}
.sidebar-reports {
  margin: 0.25rem 0 0 0;
}

/* When active, color the title to the accent for stronger affordance */
.nav-link.active .nav-title {
  color: inherit; /* will be set via the border color/parent selector */
}
.navbar-nav .nav-item .nav-link {
  position: relative; /* necesario para el efecto ripple */
  overflow: hidden;
}

/* efecto ripple centrado (escala desde el centro) */
.navbar-nav .nav-item .nav-link::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(0);
  opacity: 0.35;
  transition: transform 0.45s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 0.5s ease;
  pointer-events: none;
}

/* color del ripple por cada data-color */
.nav-link[data-color="primary"]::after {
  background: var(--accent-primary);
}
.nav-link[data-color="info"]::after {
  background: var(--accent-info);
}
.nav-link[data-color="success"]::after {
  background: var(--accent-success);
}
.nav-link[data-color="warning"]::after {
  background: var(--accent-warning);
}
.nav-link[data-color="danger"]::after {
  background: var(--accent-danger);
}
.nav-link[data-color="muted"]::after {
  background: var(--accent-muted);
}

/* Ripple colors para colores adicionales */
.nav-link[data-color="purple"]::after {
  background: var(--accent-purple);
}
.nav-link[data-color="orange"]::after {
  background: var(--accent-orange);
}
.nav-link[data-color="cyan"]::after {
  background: var(--accent-cyan);
}
.nav-link[data-color="indigo"]::after {
  background: var(--accent-indigo);
}
.nav-link[data-color="red"]::after {
  background: var(--accent-red);
}
.nav-link[data-color="pink"]::after {
  background: var(--accent-pink);
}

/* activar la animación al hacer click */
.navbar-nav .nav-item .nav-link:active::after {
  transform: translate(-50%, -50%) scale(8);
  opacity: 0;
  transition: transform 0.45s cubic-bezier(0.2, 0.8, 0.2, 1), opacity 0.45s ease;
}

/* Title color per accent when active */
.nav-link.active[data-color="primary"] .nav-title {
  color: var(--accent-primary);
}
.nav-link.active[data-color="info"] .nav-title {
  color: var(--accent-info);
}
.nav-link.active[data-color="success"] .nav-title {
  color: var(--accent-success);
}
.nav-link.active[data-color="warning"] .nav-title {
  color: var(--accent-warning);
}
.nav-link.active[data-color="danger"] .nav-title {
  color: var(--accent-danger);
}
.nav-link.active[data-color="muted"] .nav-title {
  color: var(--accent-muted);
}

/* Title colors para colores adicionales cuando están activos */
.nav-link.active[data-color="purple"] .nav-title {
  color: var(--accent-purple);
}
.nav-link.active[data-color="orange"] .nav-title {
  color: var(--accent-orange);
}
.nav-link.active[data-color="cyan"] .nav-title {
  color: var(--accent-cyan);
}
.nav-link.active[data-color="indigo"] .nav-title {
  color: var(--accent-indigo);
}
.nav-link.active[data-color="red"] .nav-title {
  color: var(--accent-red);
}
.nav-link.active[data-color="pink"] .nav-title {
  color: var(--accent-pink);
}

/* Active background tint per accent for stronger affordance */
.nav-link.active[data-color="primary"] {
  background: rgba(94, 114, 228, 0.08);
}
.nav-link.active[data-color="info"] {
  background: rgba(17, 205, 239, 0.1);
}
.nav-link.active[data-color="success"] {
  background: rgba(45, 206, 137, 0.1);
}
.nav-link.active[data-color="warning"] {
  background: rgba(251, 99, 64, 0.1);
}
.nav-link.active[data-color="danger"] {
  background: rgba(245, 54, 92, 0.1);
}
.nav-link.active[data-color="muted"] {
  background: rgba(136, 152, 170, 0.1);
}

/* Background tints para colores adicionales cuando están activos */
.nav-link.active[data-color="purple"] {
  background: rgba(137, 101, 224, 0.1);
}
.nav-link.active[data-color="orange"] {
  background: rgba(255, 141, 0, 0.1);
}
.nav-link.active[data-color="cyan"] {
  background: rgba(43, 255, 198, 0.1);
}
.nav-link.active[data-color="indigo"] {
  background: rgba(86, 3, 173, 0.1);
}
.nav-link.active[data-color="red"] {
  background: rgba(245, 54, 92, 0.1);
}
.nav-link.active[data-color="pink"] {
  background: rgba(243, 164, 181, 0.12);
}

/* Ensure icon keeps its color but spacing is neat */
.nav-link .ni {
  font-size: 1.05rem;
  margin-right: 0.35rem;
}

/* Lucide icon styling: reemplazo del punto de color con iconos dinámicos */
.nav-link .menu-icon {
  display: inline-flex;
  width: 20px;
  height: 20px;
  align-items: center;
  justify-content: center;
  margin-right: 0.75rem;
  vertical-align: middle;
  flex: 0 0 auto;
  transition: transform 220ms cubic-bezier(0.2, 0.9, 0.2, 1), filter 220ms ease,
    opacity 180ms ease;
  will-change: transform;
}

/* Ensure the rendered SVG uses the currentColor so CSS color rules apply */
.nav-link i-lucide.menu-icon svg {
  width: 100%;
  height: 100%;
  stroke: currentColor;
  fill: none;
  stroke-width: 2;
}

/* Hover: slight lift and glow */
.navbar-nav .nav-item .nav-link:hover .menu-icon {
  transform: translateY(-2px) scale(1.08);
  filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.12));
}

/* Active: stronger scale and subtle rotation for playfulness */
.nav-link.active .menu-icon {
  transform: scale(1.15) rotate(-4deg);
  filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.15));
}

/* Color mapping per data-color so icons match the accent */
.nav-link[data-color="primary"] .menu-icon {
  color: var(--accent-primary);
}
.nav-link[data-color="info"] .menu-icon {
  color: var(--accent-info);
}
.nav-link[data-color="success"] .menu-icon {
  color: var(--accent-success);
}
.nav-link[data-color="warning"] .menu-icon {
  color: var(--accent-warning);
}
.nav-link[data-color="danger"] .menu-icon {
  color: var(--accent-danger);
}
.nav-link[data-color="muted"] .menu-icon {
  color: var(--accent-muted);
}

/* Icon colors para colores adicionales */
.nav-link[data-color="purple"] .menu-icon {
  color: var(--accent-purple);
}
.nav-link[data-color="orange"] .menu-icon {
  color: var(--accent-orange);
}
.nav-link[data-color="cyan"] .menu-icon {
  color: var(--accent-cyan);
}
.nav-link[data-color="indigo"] .menu-icon {
  color: var(--accent-indigo);
}
.nav-link[data-color="red"] .menu-icon {
  color: var(--accent-red);
}
.nav-link[data-color="pink"] .menu-icon {
  color: var(--accent-pink);
}

/* ============================================
   ESTILOS RESPONSIVE DEL SIDEBAR
   ============================================ */

/* Sidebar base */
#sidenav-main {
  width: 250px;
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  z-index: 1050;
  overflow-y: auto;
  overflow-x: hidden;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Overlay oscuro cuando sidebar está abierto en móvil */
.sidebar-overlay {
  display: none;
}

/* Tablets: sidebar más estrecho */
@media (max-width: 1199px) and (min-width: 992px) {
  #sidenav-main {
    width: 220px;
  }
  
  .menu-text .nav-title {
    font-size: 0.9rem;
  }
  
  .menu-text .nav-subtitle {
    font-size: 0.7rem;
  }
  
  .nav-link .menu-icon {
    width: 18px;
    height: 18px;
    margin-right: 0.5rem;
  }
}

/* Móviles: sidebar como overlay */
@media (max-width: 991px) {
  #sidenav-main {
    width: 280px;
    transform: translateX(-100%);
    box-shadow: none;
    z-index: 1050;
  }
  
  /* Sidebar visible cuando tiene la clase mobile-open */
  #sidenav-main.mobile-open {
    transform: translateX(0);
    box-shadow: 4px 0 25px rgba(0, 0, 0, 0.2);
  }
  
  /* Overlay oscuro cuando sidebar está abierto */
  .sidebar-overlay {
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1040;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
    cursor: pointer;
  }
  
  .sidebar-overlay.show {
    opacity: 1;
    visibility: visible;
  }
}

/* Móviles pequeños: sidebar ocupa menos */
@media (max-width: 480px) {
  #sidenav-main {
    width: 260px;
  }
  
  .navbar-brand-img {
    width: 30px !important;
    height: 30px !important;
  }
  
  .menu-text .nav-title {
    font-size: 0.88rem;
  }
  
  .menu-text .nav-subtitle {
    font-size: 0.68rem;
  }
  
  .nav-link .menu-icon {
    width: 16px;
    height: 16px;
    margin-right: 0.5rem;
  }
  
  .navbar-nav .nav-item .nav-link {
    padding: 0.5rem 0.75rem;
  }
}

/* Pantallas muy pequeñas en altura */
@media (max-height: 600px) {
  .navbar-nav .nav-item .nav-link {
    padding-top: 0.4rem;
    padding-bottom: 0.4rem;
  }
  
  .menu-text .nav-subtitle {
    display: none;
  }
  
  .avatar-container {
    display: none;
  }
}
