.mag {
  /* Reducir el espacio inferior del navbar para evitar la gran área en blanco
         Antes estaba en 300px (muy grande). Ajustamos a 0 para que el contenido
         quede pegado al navbar. Si quieres un pequeño espacio, usa 0.5rem/1rem. */
  margin-bottom: 0;
}

/* Ensure navbar content (title, search, avatar) has room and doesn't get overlapped
   Add right padding to the navbar container so page headers (dashboard cards) don't
   visually collide with the avatar on the right. */
.navbar-top .container-fluid {
  padding-right: 120px; /* reserve space for avatar and actions */
}

/* Accent tokens reused from sidebar to keep palette consistent */
:host {
  --accent-primary: #5e72e4;
  --accent-info: #11cdef;
  --accent-success: #2dce89;
  --accent-warning: #fb6340;
  --accent-danger: #f5365c;
  --accent-muted: #8898aa;
  --accent-purple: #9b59b6;
  --accent-orange: #ff7f50;
  --accent-cyan: #17a2b8;
  --accent-indigo: #6610f2;
  --accent-red: #dc3545;
  --accent-pink: #e83e8c;
}

/* Navbar accent by active section (data-accent attribute) */
nav#navbar-main[data-accent="primary"] {
  background: linear-gradient(
    90deg,
    rgba(94, 114, 228, 0.95),
    rgba(94, 114, 228, 0.85)
  );
}
nav#navbar-main[data-accent="info"] {
  background: linear-gradient(
    90deg,
    rgba(17, 205, 239, 0.95),
    rgba(17, 205, 239, 0.85)
  );
}
nav#navbar-main[data-accent="success"] {
  background: linear-gradient(
    90deg,
    rgba(45, 206, 137, 0.95),
    rgba(45, 206, 137, 0.85)
  );
}
nav#navbar-main[data-accent="warning"] {
  background: linear-gradient(
    90deg,
    rgba(251, 99, 64, 0.95),
    rgba(251, 99, 64, 0.85)
  );
}
nav#navbar-main[data-accent="danger"] {
  background: linear-gradient(
    90deg,
    rgba(245, 54, 92, 0.95),
    rgba(245, 54, 92, 0.85)
  );
}
nav#navbar-main[data-accent="muted"] {
  background: linear-gradient(
    90deg,
    rgba(136, 152, 170, 0.95),
    rgba(136, 152, 170, 0.85)
  );
}
nav#navbar-main[data-accent="purple"] {
  background: linear-gradient(
    90deg,
    rgba(155, 89, 182, 0.95),
    rgba(155, 89, 182, 0.85)
  );
}
nav#navbar-main[data-accent="orange"] {
  background: linear-gradient(
    90deg,
    rgba(255, 127, 80, 0.95),
    rgba(255, 127, 80, 0.85)
  );
}
nav#navbar-main[data-accent="cyan"] {
  background: linear-gradient(
    90deg,
    rgba(23, 162, 184, 0.95),
    rgba(23, 162, 184, 0.85)
  );
}
nav#navbar-main[data-accent="indigo"] {
  background: linear-gradient(
    90deg,
    rgba(102, 16, 242, 0.95),
    rgba(102, 16, 242, 0.85)
  );
}
nav#navbar-main[data-accent="red"] {
  background: linear-gradient(
    90deg,
    rgba(220, 53, 69, 0.95),
    rgba(220, 53, 69, 0.85)
  );
}
nav#navbar-main[data-accent="pink"] {
  background: linear-gradient(
    90deg,
    rgba(232, 62, 140, 0.95),
    rgba(232, 62, 140, 0.85)
  );
}

/* Ensure the toggle button and search icon are visible and slightly tinted with the accent */
nav#navbar-main[data-accent] .btn-link i,
nav#navbar-main[data-accent] .input-group-text i {
  opacity: 0.95;
}

/* Style the sidebar toggle button to be a small pill with soft background using accent */
.btn-link[title="Toggle sidebar"] {
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.06);
  padding: 6px 9px;
}

/* If needed, color the toggle icon to be slightly brighter on dark backgrounds */
nav#navbar-main[data-accent] .btn-link i {
  color: rgba(255, 255, 255, 0.95);
}

/* Title style: keep uppercase but add subtle shadow for legibility */
.navbar-top .h4 {
  letter-spacing: 0.6px;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.06);
}

/* Subtle hover glow for buttons/icons matching the current accent */
nav#navbar-main[data-accent="primary"] .btn-link:hover {
  box-shadow: 0 8px 22px rgba(94, 114, 228, 0.16);
}
nav#navbar-main[data-accent="info"] .btn-link:hover {
  box-shadow: 0 8px 22px rgba(17, 205, 239, 0.16);
}
nav#navbar-main[data-accent="success"] .btn-link:hover {
  box-shadow: 0 8px 22px rgba(45, 206, 137, 0.16);
}
nav#navbar-main[data-accent="warning"] .btn-link:hover {
  box-shadow: 0 8px 22px rgba(251, 99, 64, 0.16);
}
nav#navbar-main[data-accent="danger"] .btn-link:hover {
  box-shadow: 0 8px 22px rgba(245, 54, 92, 0.16);
}
nav#navbar-main[data-accent="muted"] .btn-link:hover {
  box-shadow: 0 8px 22px rgba(136, 152, 170, 0.12);
}
nav#navbar-main[data-accent="purple"] .btn-link:hover {
  box-shadow: 0 8px 22px rgba(155, 89, 182, 0.16);
}
nav#navbar-main[data-accent="orange"] .btn-link:hover {
  box-shadow: 0 8px 22px rgba(255, 127, 80, 0.16);
}
nav#navbar-main[data-accent="cyan"] .btn-link:hover {
  box-shadow: 0 8px 22px rgba(23, 162, 184, 0.16);
}
nav#navbar-main[data-accent="indigo"] .btn-link:hover {
  box-shadow: 0 8px 22px rgba(102, 16, 242, 0.16);
}
nav#navbar-main[data-accent="red"] .btn-link:hover {
  box-shadow: 0 8px 22px rgba(220, 53, 69, 0.16);
}
nav#navbar-main[data-accent="pink"] .btn-link:hover {
  box-shadow: 0 8px 22px rgba(232, 62, 140, 0.16);
}

/* small ripple on the navbar toggle for tactile feedback */
.btn-link {
  position: relative;
  overflow: hidden;
}
.btn-link::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(0);
  opacity: 0.25;
  transition: transform 0.35s ease, opacity 0.45s ease;
  pointer-events: none;
  background: rgba(255, 255, 255, 0.85);
}
.btn-link:active::after {
  transform: translate(-50%, -50%) scale(6);
  opacity: 0;
}

/* ============================================
   ESTILOS RESPONSIVE DEL NAVBAR
   ============================================ */

/* Tablets */
@media (max-width: 1199px) {
  .navbar-top .container-fluid {
    padding-right: 80px;
  }
}

/* Móviles */
@media (max-width: 991px) {
  .navbar-top .container-fluid {
    padding-right: 60px;
    padding-left: 0.5rem;
  }
  
  .navbar-top .h4 {
    font-size: 1rem;
    letter-spacing: 0.3px;
  }
  
  /* Search input más pequeño */
  .navbar-search .form-control {
    font-size: 0.85rem;
    padding: 0.4rem 0.75rem;
  }
}

@media (max-width: 768px) {
  .navbar-top .container-fluid {
    padding-right: 50px;
    padding-left: 0.25rem;
  }
  
  .navbar-top .h4 {
    font-size: 0.9rem;
  }
  
  /* Avatar más pequeño */
  .avatar-sm {
    width: 32px !important;
    height: 32px !important;
  }
  
  /* Ocultar texto del nombre en móvil */
  .navbar-top .media-body span.mb-0 {
    display: none;
  }
  
  /* Search más compacto */
  .navbar-search {
    max-width: 150px;
  }
  
  .navbar-search .form-control {
    font-size: 0.8rem;
    padding: 0.35rem 0.5rem;
  }
}

@media (max-width: 480px) {
  .navbar-top .container-fluid {
    padding: 0 0.5rem;
  }
  
  .navbar-top .h4 {
    font-size: 0.85rem;
    max-width: 100px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  
  /* Ocultar search en móviles muy pequeños */
  .navbar-search {
    display: none !important;
  }
  
  .btn-link[title="Toggle sidebar"] {
    padding: 4px 6px;
  }
  
  .avatar-sm {
    width: 28px !important;
    height: 28px !important;
  }
}
