<div class="form-container">
  <app-list-header
    [title]="'Incidencias'"
    [subtitle]="'Registrar fallas y accidentes'"
    [lucide]="'AlertCircle'"
    [breadcrumb]="[
      { label: 'Dashboard', link: ['/dashboard'] },
      { label: 'Incidencias' }
    ]"
    [actionText]="'Crear incidencia'"
    [actionLink]="['/issues/new']"
    [actionLucide]="'Plus'"
  ></app-list-header>

  <div class="card">
    <div class="card-body p-0">
      <table class="table table-hover mb-0 table-list">
        <thead>
          <tr>
            <th>ID</th>
            <th>Título</th>
            <th>Estado</th>
            <th>Fecha</th>
            <th class="text-end">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let i of issues">
            <td>{{ i.id }}</td>
            <td>{{ i.title }}</td>
            <td>{{ i.status }}</td>
            <td>{{ i.created_at | date : "short" }}</td>
            <td class="text-end">
              <a
                class="btn btn-sm btn-outline-info me-2"
                [routerLink]="['/issues', i.id]"
                >Ver</a
              >
              <a
                class="btn btn-sm btn-outline-primary me-2"
                [routerLink]="['/issues', i.id, 'edit']"
                >Editar</a
              >
              <!-- Eliminar se implementa luego con confirmación -->
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
