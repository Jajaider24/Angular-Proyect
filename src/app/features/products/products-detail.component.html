<div class="product-detail" *ngIf="product as p">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h4 class="mb-0">{{ p.name }}</h4>
    <span class="badge bg-secondary">ID: {{ p.id }}</span>
  </div>

  <div class="card mb-3">
    <div class="card-body">
      <div class="row g-3">
        <div class="col-md-4">
          <div class="text-muted small">Precio</div>
          <div>{{ p.price | currency }}</div>
        </div>
        <div class="col-md-4">
          <div class="text-muted small">Categoría</div>
          <div>{{ p.category || '—' }}</div>
        </div>
        <div class="col-md-4">
          <div class="text-muted small">Creado</div>
          <div>{{ p.created_at | date:'medium' }}</div>
        </div>
      </div>
      <div class="mt-3">
        <div class="text-muted small">Descripción</div>
        <div>{{ p.description || '—' }}</div>
      </div>
    </div>
  </div>

  <!-- Menús en los que aparece este producto (si el backend los incluye) -->
  <div class="card mb-3" *ngIf="p.menus?.length">
    <div class="card-header d-flex justify-content-between align-items-center">
      <span>Presente en menús</span>
      <span class="badge bg-info">{{ p.menus.length }}</span>
    </div>
    <div class="card-body p-0">
      <table class="table table-sm mb-0">
        <thead>
          <tr>
            <th>Menú</th>
            <th>Restaurante</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let m of p.menus">
            <td>{{ m.name || m.id }}</td>
            <td>{{ m.restaurant?.name || m.restaurant || '—' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="mt-3">
    <button class="btn btn-secondary" (click)="back()">Volver</button>
  </div>
</div>

<div *ngIf="!product && loading">Cargando...</div>
