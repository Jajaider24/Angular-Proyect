<div class="row">
  <div class="col-lg-8 offset-lg-2">
    <div class="card shadow">
      <div class="card-header bg-white border-0">
        <div class="row align-items-center">
          <div class="col-8">
            <h3 class="mb-0">{{ isEdit ? 'Editar Motocicleta' : 'Nueva Motocicleta' }}</h3>
          </div>
          <div class="col-4 text-right">
            <button class="btn btn-sm btn-secondary" (click)="onCancel()">
              <i class="ni ni-bold-left"></i> Volver
            </button>
          </div>
        </div>
      </div>

      <div class="card-body">
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
          
          <div class="form-group">
            <label class="form-control-label">Placa <span class="text-danger">*</span></label>
            <input type="text" class="form-control text-uppercase" 
                   [class.is-invalid]="hasError('license_plate')"
                   formControlName="license_plate" placeholder="Ej: ABC123">
            <div class="invalid-feedback" *ngIf="hasError('license_plate')">
              {{ getErrorMessage('license_plate') }}
            </div>
            <small class="form-text text-muted">Formato alfanumérico, 6-10 caracteres</small>
          </div>

          <div class="form-group">
            <label class="form-control-label">Marca <span class="text-danger">*</span></label>
            <input type="text" class="form-control" 
                   [class.is-invalid]="hasError('brand')"
                   formControlName="brand" placeholder="Ej: Honda, Yamaha, Suzuki">
            <div class="invalid-feedback" *ngIf="hasError('brand')">
              {{ getErrorMessage('brand') }}
            </div>
          </div>

          <div class="form-group">
            <label class="form-control-label">Año <span class="text-danger">*</span></label>
            <input type="number" class="form-control" 
                   [class.is-invalid]="hasError('year')"
                   formControlName="year" placeholder="Ej: 2020">
            <div class="invalid-feedback" *ngIf="hasError('year')">
              {{ getErrorMessage('year') }}
            </div>
          </div>

          <div class="form-group">
            <label class="form-control-label">Estado <span class="text-danger">*</span></label>
            <select class="form-control" [class.is-invalid]="hasError('status')" formControlName="status">
              <option *ngFor="let opt of statusOptions" [value]="opt.value">{{ opt.label }}</option>
            </select>
            <div class="invalid-feedback" *ngIf="hasError('status')">
              {{ getErrorMessage('status') }}
            </div>
          </div>

          <hr class="my-4" />
          <div class="text-right">
            <button type="button" class="btn btn-secondary" (click)="onCancel()" [disabled]="loading">
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary" [disabled]="loading">
              <span *ngIf="!loading">
                <i class="ni ni-check-bold"></i> {{ isEdit ? 'Actualizar' : 'Crear' }}
              </span>
              <span *ngIf="loading">
                <span class="spinner-border spinner-border-sm mr-2"></span> Guardando...
              </span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
